<div class="container-opciones ">
    <a [routerLink]="[ '/informacion-representante', id ]" style="margin: auto 12px auto auto;">ver registro</a>
    <button mat-stroked-button>Agregar deuda</button>
    <button mat-stroked-button>Agregar pago</button>
</div>
<div class="mat-elevation-z1">
    <table mat-table [dataSource]="dataSourceEC" matSort>
        <ng-container matColumnDef="descripcion">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Motivo </th>
            <td mat-cell *matCellDef="let row" [matTooltip]="'Servicio contratado: ' + row.descripcion"> {{row.pago}}</td>
            <td mat-footer-cell *matFooterCellDef> </td>
        </ng-container>
        <ng-container matColumnDef="desde">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Desde </th>
            <td mat-cell *matCellDef="let row"> {{row.desde}} </td>
            <td mat-footer-cell *matFooterCellDef [style.color]="'red'" matTooltip="Cantidad en mora"> {{getDeudasEstadoCuenta() | currency}} </td>
        </ng-container>
        <ng-container matColumnDef="hasta">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Hasta </th>
            <td mat-cell *matCellDef="let row"> {{ row.tipo == 'Propio' && row.pago == 'Servicio'? "..." : row.hasta}} </td>
            <td mat-footer-cell *matFooterCellDef [style.color]="'green'" matTooltip="Cantidad pagada"> {{getPagosEstadoCuenta() | currency}} </td>
        </ng-container>
        <ng-container matColumnDef="cantidad">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cantidad </th>
            <td mat-cell *matCellDef="let row" [style.color]="row.desde
          < '2001/01/01' ? 'blue': row.estado_cuenta == 'deuda' ? 'red':'green'">{{row.estado_cuenta=='deuda' ? '+': '-' }} {{row.cantidad | currency}} {{row.desde
                < '2001/01/01' ? '(sucres)': ''}} </td>
                    <td mat-footer-cell *matFooterCellDef matTooltip="Cantidad total">{{getTotalEstadoCuenta()
                        < 0 ? '$0.00' : getTotalEstadoCuenta() | currency}} </td>
        </ng-container>
        <ng-container matColumnDef="accion">
            <th mat-header-cell *matHeaderCellDef matTooltip="Imprimir estado cuenta">
                <button mat-icon-button> <mat-icon>print</mat-icon> </button>
            </th>
            <td mat-cell *matCellDef="let row" matTooltip="Imprimir comprobante">
                <button mat-icon-button> <mat-icon>print</mat-icon> </button>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
        </ng-container>

        <ng-container matColumnDef="eliminar">
            <th mat-header-cell *matHeaderCellDef>
                <button mat-icon-button></button>
            </th>
            <td mat-cell *matCellDef="let row" matTooltip="Eliminar comprobante">
                <button mat-icon-button> <mat-icon>delete</mat-icon> </button>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
        </ng-container>

        <ng-container matColumnDef="header-row-cero-grupo">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="6">Estado de cuenta representante</th>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['header-row-cero-grupo']; sticky: true"></tr>


        <tr mat-header-row *matHeaderRowDef="displayedColumnsEC; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsEC;"></tr>
        <tr mat-footer-row *matFooterRowDef="displayedColumnsEC; sticky: true"></tr>

    </table>
    <mat-paginator class="mat-paginator-sticky" [pageSizeOptions]="[ 5, 10, 25]" showFirstLastButtons></mat-paginator>

</div>
